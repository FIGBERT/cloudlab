services:
  # RSS
  miniflux:
    image: miniflux/miniflux:latest
    restart: always
    depends_on:
      - miniflux_db
    environment:
      - DATABASE_URL=postgres://miniflux:${MINIFLUX_DB_PASSWORD}@miniflux_db/miniflux?sslmode=disable
      - RUN_MIGRATIONS=1
  miniflux_db:
    image: postgres:alpine
    restart: always
    environment:
      - POSTGRES_USER=miniflux
      - POSTGRES_PASSWORD=${MINIFLUX_DB_PASSWORD}
    volumes:
      - ./services/miniflux:/var/lib/postgresql/data

  # BOOKMARKS
  linkding:
    image: sissbruecker/linkding:latest
    restart: always
    volumes:
      - ./services/linkding:/etc/linkding/data

  # LIVESTREAMING
  owncast:
    image: owncast/owncast:latest
    restart: always
    volumes:
      - ./services/owncast:/app/data
    ports:
      - 1935:1935

  # FILE SYNC
  syncthing:
    image: syncthing/syncthing
    restart: always
    volumes:
      - ./services/syncthing:/var/syncthing
    ports:
      - 22000:22000/tcp
      - 22000:22000/udp
      - 21027:21027/udp
